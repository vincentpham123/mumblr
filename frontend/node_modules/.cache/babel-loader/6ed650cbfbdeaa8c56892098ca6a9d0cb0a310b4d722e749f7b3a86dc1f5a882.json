{"ast":null,"code":"import _slicedToArray from\"/Users/vincentpham/Documents/GitHub/fullstack/frontend_react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./profilebutton.css';import{useState,useEffect}from'react';import{NavLink}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import*as sessionActions from'../../store/session';import LoginFormModel from'../LoginFormModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profilebutton=function Profilebutton(){// work on dropdown menu that will bring down menu\nvar user=useSelector(function(state){return state.session.user;});var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var menu;var openMenu=function openMenu(){if(showMenu)return;setShowMenu(true);};useEffect(function(){if(!showMenu)return;var closeMenu=function closeMenu(){setShowMenu(false);};document.addEventListener('click',closeMenu);return function(){return document.removeEventListener(\"click\",closeMenu);};},[showMenu]);var logout=function logout(e){e.preventDefault();dispatch(sessionActions.logout());};var sessionLinks;console.log(user);if(user){sessionLinks=/*#__PURE__*/_jsx(\"ul\",{className:\"profile-dropdown\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"dropdownlink\",children:[/*#__PURE__*/_jsxs(NavLink,{to:\"./likes\",className:\"menu-link\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-heart heart icons\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-text\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Likes\"}),/*#__PURE__*/_jsx(\"span\",{children:\"0\"})]})]}),/*#__PURE__*/_jsxs(NavLink,{to:\"./followers\",className:\"menu-link\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user-plus heart icons\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-text\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Followers\"}),/*#__PURE__*/_jsx(\"span\",{children:\"0\"})]})]})]})});}else{sessionLinks=/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(NavLink,{to:\"/signup\",children:\"Sign In\"})});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:openMenu,style:{backgroundColor:'transparent',border:'none',boxShadow:'none'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user\",style:{color:'#696969'}})}),showMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-menu\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile-title\",children:[/*#__PURE__*/_jsx(\"h3\",{id:\"account\",children:\"Account\"}),/*#__PURE__*/_jsx(\"button\",{className:\"logout\",onClick:function onClick(e){return logout(e);},children:\"Sign Out\"})]}),sessionLinks]})]})});};export default Profilebutton;","map":{"version":3,"names":["useState","useEffect","NavLink","useDispatch","useSelector","sessionActions","LoginFormModel","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Profilebutton","user","state","session","dispatch","_useState","_useState2","_slicedToArray","showMenu","setShowMenu","menu","openMenu","closeMenu","document","addEventListener","removeEventListener","logout","e","preventDefault","sessionLinks","console","log","className","children","to","onClick","style","backgroundColor","border","boxShadow","color","id"],"sources":["/Users/vincentpham/Documents/GitHub/fullstack/frontend_react/frontend/src/components/Navigation/ProfileButton.js"],"sourcesContent":["import './profilebutton.css';\nimport { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom'\nimport {useDispatch,useSelector} from 'react-redux'\nimport * as sessionActions from '../../store/session';\nimport LoginFormModel from '../LoginFormModal';\nconst Profilebutton = () =>{\n// work on dropdown menu that will bring down menu\nconst user = useSelector(state=>state.session.user)\nconst dispatch = useDispatch();\nconst [showMenu,setShowMenu] = useState(false);\nlet menu;\nconst openMenu = () => {\n    if (showMenu) return;\n    setShowMenu(true);\n}\n\nuseEffect(()=>{\n    if (!showMenu) return;\n    const closeMenu=()=>{\n        setShowMenu(false);\n    };\n    document.addEventListener('click',closeMenu);\n    return ()=> document.removeEventListener(\"click\",closeMenu);\n},[showMenu]);\n\nconst logout=(e) => {\n    e.preventDefault();\n    dispatch(sessionActions.logout());\n};\n\nlet sessionLinks;\nconsole.log(user);\nif(user){\n    sessionLinks=(\n        \n        <ul className='profile-dropdown'>\n            <li className='dropdownlink'>\n                <NavLink to='./likes' className='menu-link'>\n                    <div className='icon'>\n                        <i className=\"fa-solid fa-heart heart icons\" ></i>\n                    </div>\n                    <div className='menu-text'>\n                        <span>Likes</span>\n                        <span>0</span>\n                    </div>\n                </NavLink>\n                <NavLink to='./followers' className='menu-link'>\n                    <div className='icon'>\n                        <i className=\"fa-solid fa-user-plus heart icons\" ></i>\n                    </div>\n                    <div className='menu-text'>\n                        <span>Followers</span>\n                        <span>0</span>\n                    </div>\n                </NavLink>\n            </li>\n         </ul>\n    );\n} else {\n    sessionLinks=(\n        <>\n            {/* will trigger a modal when it is ready */}\n\n            <NavLink to='/signup'>Sign In</NavLink>\n        </>\n    );\n};\n    \n    return (\n        <>\n\n        <div className='profile'>\n            <button onClick={openMenu} style={{ backgroundColor: 'transparent', border: 'none', boxShadow: 'none' }}>\n                <i className=\"fa-solid fa-user\" style={{color:'#696969'}}></i>\n            </button>\n        {showMenu && (\n            <div className='profile-menu'>\n                <div className='profile-title'>\n                    <h3 id='account'>Account</h3>\n                    <button className='logout' onClick={e=>logout(e)}>Sign Out</button>\n                </div>\n                \n                {sessionLinks}\n            </div>\n        )}\n        </div>\n        </>\n    );\n}\n\nexport default Profilebutton;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}