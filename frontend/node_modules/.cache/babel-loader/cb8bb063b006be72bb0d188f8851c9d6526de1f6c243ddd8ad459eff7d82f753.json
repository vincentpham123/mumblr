{"ast":null,"code":"import _regeneratorRuntime from\"/Users/vincentpham/Documents/GitHub/fullstack/frontend_react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/vincentpham/Documents/GitHub/fullstack/frontend_react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/vincentpham/Documents/GitHub/fullstack/frontend_react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import*as sessionActions from'../../store/session';import csrfFetch from\"../../store/csrf\";import{Redirect}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import'./passwordSignup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PasswordSignUp=function PasswordSignUp(_ref){var email=_ref.email;var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),buttonColor=_useState8[0],setButtonColor=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),fontColor=_useState10[0],setFontColor=_useState10[1];useEffect(function(){if(confirmPassword.length&&password.length){setButtonColor('white');setFontColor('black');}else{setButtonColor('');setFontColor('');}},[password,confirmPassword]);var handleSubmit=function handleSubmit(event){event.preventDefault();if(password===confirmPassword){setErrors([]);return dispatch(sessionActions.login({email:email,password:password})).catch(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(res){var _data;var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return res.clone().json();case 3:data=_context.sent;_context.next=11;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);_context.next=10;return res.text();case 10:data=_context.sent;case 11:if((_data=data)!==null&&_data!==void 0&&_data.errors)setErrors(data.errors);else if(data)setErrors([data]);else setErrors([res.statusText]);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function(_x){return _ref2.apply(this,arguments);};}());}return setErrors(['Confirm Password field must be the same as the Password field']);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"passwordsignup-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"password-title\",children:\"mumblr\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"password-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"password-instructions\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Welcome to your corner of the internet. Glad you're here\"})}),/*#__PURE__*/_jsx(\"input\",{className:\"password-text\",type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(event){return setPassword(event.target.value);},required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"password-text\",type:\"password\",placeholder:\"Repeat password\",value:confirmPassword,onChange:function onChange(event){return setConfirmPassword(event.target.value);},required:true}),/*#__PURE__*/_jsxs(\"button\",{style:{backgroundColor:\"\".concat(buttonColor),color:\"\".concat(fontColor)},className:\"password-button\",type:\"submit\",children:[\"Sign Up\",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-arrow-right\",style:{border:'none',color:\"\".concat(fontColor)}})]})]}),/*#__PURE__*/_jsx(\"ul\",{children:errors.map(function(error){return/*#__PURE__*/_jsx(\"li\",{children:error},error);})})]})});};export default PasswordSignUp;","map":{"version":3,"names":["useState","useEffect","sessionActions","csrfFetch","Redirect","useDispatch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","PasswordSignUp","_ref","email","dispatch","_useState","_useState2","_slicedToArray","password","setPassword","_useState3","_useState4","confirmPassword","setConfirmPassword","_useState5","_useState6","errors","setErrors","_useState7","_useState8","buttonColor","setButtonColor","_useState9","_useState10","fontColor","setFontColor","length","handleSubmit","event","preventDefault","login","catch","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","_data","data","wrap","_callee$","_context","prev","next","clone","json","sent","t0","text","statusText","stop","_x","apply","arguments","children","className","onSubmit","type","placeholder","value","onChange","target","required","style","backgroundColor","concat","color","border","map","error"],"sources":["/Users/vincentpham/Documents/GitHub/fullstack/frontend_react/frontend/src/components/LoginFormModal/passwordSignUp.js"],"sourcesContent":["import { useState, useEffect} from \"react\"\nimport * as sessionActions from '../../store/session';\nimport csrfFetch from \"../../store/csrf\";\nimport { Redirect } from \"react-router-dom\";\nimport { useDispatch } from \"react-redux\";\nimport './passwordSignup.css';\n\nconst PasswordSignUp = ({email}) =>{\n    const dispatch = useDispatch();\n    const [password,setPassword] = useState('');\n    const [confirmPassword,setConfirmPassword] = useState('');\n    const [errors,setErrors] = useState([]);\n    const [buttonColor,setButtonColor] = useState('');\n    const [fontColor,setFontColor] = useState('');\n    useEffect(()=>{\n        if (confirmPassword.length && password.length ){\n            setButtonColor('white');\n            setFontColor('black');\n        } else {\n            setButtonColor('');\n            setFontColor('');\n        }\n    },[password,confirmPassword]);\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        if (password===confirmPassword) {\n        setErrors([]);\n        return dispatch(sessionActions.login({email, password}))\n            .catch(async (res) => {\n                let data;\n                try {\n                    data = await res.clone().json();\n                } catch {\n                    data = await res.text();\n                }\n\n                if (data?.errors) setErrors(data.errors);\n                else if (data) setErrors([data]);\n                else setErrors([res.statusText]);\n\n            });\n        }\n        return setErrors(['Confirm Password field must be the same as the Password field']);\n    }\n    \n    return (\n        <>\n             <div className='passwordsignup-box'>\n                <div className='password-title'>mumblr</div>\n                <form className = 'password-form' onSubmit={handleSubmit}>\n                    <div className='password-instructions'><p>Welcome to your corner of the internet. Glad you're here</p></div>\n                    <input className= 'password-text' type='password' placeholder='Password' \n                    value={password} onChange={event=>setPassword(event.target.value)} required\n                    />\n                    <input className= 'password-text' type='password' placeholder='Repeat password' \n                    value={confirmPassword} onChange={event=>setConfirmPassword(event.target.value)} required\n                    />\n                    \n                    <button style={{ backgroundColor:`${buttonColor}`,color:`${fontColor}`}} className='password-button' type='submit' >\n                    Sign Up<i className=\"fa-solid fa-arrow-right\" style={{border: 'none', color: `${fontColor}` }}></i> \n                    </button>\n                </form>\n                <ul>\n                    {errors.map(error => <li key={error}>{error}</li>)}\n                </ul>\n            </div>\n        </>\n    )\n\n}\n\nexport default PasswordSignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}